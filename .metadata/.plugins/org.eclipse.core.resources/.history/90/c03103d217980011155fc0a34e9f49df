package ctrl.game;

import static org.junit.Assert.*;

import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

import model.player.Account;

import org.junit.Test;

import database.DatabaseCommunicator;
import database.IDBAccount;

public class IDBAccountTest {
	
	private class DBAccount implements IDBAccount {
		DatabaseCommunicator dbc = DatabaseCommunicator.getInstance();
		
		@Override
		public Account loadAccount(String accountName) {
			Connection conn = dbc.getConnection();
			Statement myStmt;
			try {
				myStmt = conn.createStatement();
				ResultSet rs =
				myStmt.executeQuery("SELECT * FROM Accounts WHERE userName = '" 
				+ accountName + "'");
				if (rs.next()) {
					// Accountinformation
					String firstName = rs.getString(1);
					String lastName = rs.getString(2);
					String passWord = rs.getString(3);
					String balance = rs.getString(4);
					int x = Integer.parseInt(balance);

					Account a = new Account(firstName, lastName, accountName, passWord);
					a.getBalance().addToBalance(x);
					return a;
				}
			} catch (SQLException e) {
				System.out.println(e.getMessage());
				e.printStackTrace();
			}
			return null;
		}

		@Override
		public boolean createAccount(Account account) {
			// TODO Auto-generated method stub
			return false;
		}

		@Override
		public boolean updateAccount(Account account, String oldPassword) {
			// TODO Auto-generated method stub
			return false;
		}
		
	}
	@Test
	public void test() {
		fail("Not yet implemented");
	}

}
